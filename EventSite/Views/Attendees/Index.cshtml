@using EventSite.Domain
@using EventSite.Infrastructure
@model EventSite.ViewModels.RegisteredUsers.IndexOutput<EventSite.Domain.Model.Attendee>
@{
    ViewInfo.Title = "Speakers";
}

<div class="jumbotron">
    <h1>Attendees</h1>
    <p class="lead">Network, catch up, and make new friends.</p>
</div>

    
<div class="container">
    @foreach(var row in Model.Users) {
        <div class="row speakers">
            @foreach(var user in row) {
                var slug = EventSite.Domain.Model.User.SlugFromId(user.UserId);

                <a data-toggle="modal" href="#@slug" class="col-xs-2 col-sm-2 col-md-2">
                    <img class="avatar img-responsive" src="@Avatar.GetUrl(user.Email, 128)" alt="@user.DisplayName" />
                    <div class="text-center">@user.DisplayName</div>
                </a>

                <div class="modal fade" id="@slug" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-xs-3 col-sm-3 col-md-3">
                                        <img class="avatar img-responsive" style="width: auto" src="@Avatar.GetUrl(user.Email, 128)" alt="@user.DisplayName">
                                    </div>
                                    <div class="col-xs-8 col-sm-8 col-md-8">
                                        <h3>@user.DisplayName</h3>
@*                                        <div>@user.User.GetProfessionalInfo()</div>*@
                                        @if (State.UserIsAdmin()) {
                                        <div>@user.Email</div>
                                        }
                                    </div>
                                    <button class="close col-xs-1 col-sm-1 col-md-1" type="button" data-dismiss="modal" aria-hidden="true">&times;</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
</div>

@if(!string.IsNullOrEmpty(Model.ActiveUserSlug)) {
    <script type="text/javascript">
        (function (es) {
            es.activeUserSlug = "@Model.ActiveUserSlug";
        })(window.EventSite || (window.EventSite = {}));
    </script>
}